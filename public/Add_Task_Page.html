<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Task</title>
    <link rel="stylesheet" href="styles/add_task_styles.css">
    <link rel="stylesheet" href="styles/style.css">
    <script src="scripts/genericDropdown.js"></script>
</head>
<body>
    <header>
        <img src="images/Logo.png" alt="Logo"/>
        <input type="text" placeholder="Search..."> 
        <div class="dropdown">
            <img src="images/generic_person_image.png" onclick="toggleDropdown()" class="person-image">
            <div class="dropdown-content" id="myDropdown">
                <a href="/AddTaskPage">Add Task</a>
                <a href="#EditTask">Edit Task</a>
                <a href="#profile">Profile</a>
                <a href="#settings">Settings</a>
                <a href="/">Logout</a>
            </div>
        </div>
    </header>

<div class="container">
    <h2>Add Task</h2>
    <form id="addTaskPage" action="" method="post">
        <div class="form-group"> 
            <label for="taskName">Task Name</label>
            <input type="text" id="taskName" name="taskName" placeholder="Task Name" required>
        </div>

        <div class="form-group">
            <label for="dueDate">Due Date</label>
            <input type="date" id="dueDate" name="dueDate" required>
        </div>

        <div class="form-group">
            <label for="taskDescription">Description</label>
            <textarea id="taskDescription" name="taskDescription" placeholder="Description" required></textarea>
        </div>

        <style>
            div h4 a {
              display: inline-block;
              padding: 10px 20px;
              background-color: #4CAF50;
              color: #fff;
              text-decoration: none;
              border-radius: 5px;
            }
          </style>
          

        <div><h4><p style="margin-left: 240px; line-height: 1;"><a href="#" onclick="myFunction()">Add task</a></p></h4></div>
    </form>
</div>

<script>
    function myFunction() {


        var action = "/addtask?"; 
        var param = encodeURIComponent(document.getElementById("taskName").value);
        var param1 = encodeURIComponent(document.getElementById("dueDate").value);
        var param2 = encodeURIComponent(document.getElementById("taskDescription").value);
        action += "taskName=" + param + "&dueDate=" + param1 + "&taskDescription=" + param2;     
        /*param += "/"; 
        action += param; 
        var param1 = document.getElementById("dueDate").value; 
        param1 += "/"; 
        action += param1; 
        var param2 = document.getElementById("taskDescription").value; 
        action += param2;*/

        document.getElementById("addTaskPage").action = action; 
        document.getElementById("addTaskPage").submit(); 
    }
</script>

</body>
</html>
